from dotenv import load_dotenv
import os
import mysql.connector
import requests
from mysql.connector import errorcode

load_dotenv()
dbfile = os.getenv('DATABASE_FILE')
print(dbfile)

class DbManager:
    def __init__(self):
        conn = getdatabase()
        cur = conn.cursor


    def getDatabase():
        try:
            conn = mysql.connector.connect(
                user='root',
                host='localhost',
                database=dbfile,
                unix_socket='/var/run/mysqld/mysqld.sock')
        except mysql.connector.Error as err:
            if err.errno == errorcode.ER_ACCESS_DENIED_ERROR:
                print("Wrong user name, password")
            elif err.errno == errorcode.ER_BAD_DB_ERROR:
                print("Database does not exist")
                print(err)
            else:
                return conn
